"use strict";(()=>{var e={};e.id=176,e.ids=[176,660],e.modules={5828:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{config:()=>b,default:()=>g,getServerSideProps:()=>m,getStaticPaths:()=>h,getStaticProps:()=>f,reportWebVitals:()=>S,routeModule:()=>_,unstable_getServerProps:()=>P,unstable_getServerSideProps:()=>w,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>y,unstable_getStaticProps:()=>x});var a=r(7093),i=r(5244),n=r(1323),o=r(7481),l=r.n(o),d=r(7648),c=r(6368),u=e([d,c]);[d,c]=u.then?(await u)():u;let p=a.PagesRouteModule,g=(0,n.l)(c,"default"),f=(0,n.l)(c,"getStaticProps"),h=(0,n.l)(c,"getStaticPaths"),m=(0,n.l)(c,"getServerSideProps"),b=(0,n.l)(c,"config"),S=(0,n.l)(c,"reportWebVitals"),x=(0,n.l)(c,"unstable_getStaticProps"),y=(0,n.l)(c,"unstable_getStaticPaths"),v=(0,n.l)(c,"unstable_getStaticParams"),P=(0,n.l)(c,"unstable_getServerProps"),w=(0,n.l)(c,"unstable_getServerSideProps"),_=new p({definition:{kind:i.x.PAGES,page:"/signin",pathname:"/signin",bundlePath:"",filename:""},components:{App:d.default,Document:l()},userland:c});s()}catch(e){s(e)}})},6368:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>Signin});var a=r(997),i=r(6689),n=r(1163),o=r(401),l=r(7315),d=r(1492),c=e([o,l,d]);function Signin(){let e=(0,n.useRouter)(),[t,r]=(0,i.useState)(""),[s,c]=(0,i.useState)(""),[h,m]=(0,i.useState)(!1),[b,S]=(0,i.useState)(!1),[x,y]=(0,i.useState)(""),handleSignin=async r=>{if(r.preventDefault(),y(""),!t||!s){y("Fill all fields.");return}m(!0);try{let r=await (0,o.signInWithEmailAndPassword)(l.I8,t,s),a=r.user;try{let e=await (0,d.getDoc)((0,d.doc)(l.db,"users",a.uid));e.exists()?localStorage.setItem("user",JSON.stringify(e.data())):localStorage.setItem("user",JSON.stringify({uid:a.uid,email:a.email}))}catch(e){console.warn("Could not fetch user doc:",e)}e.push("/dashboard")}catch(e){console.error("signin error",e),y(e.message||"Sign-in failed")}finally{m(!1)}},handleReset=async e=>{if(e.preventDefault(),y(""),!t){y("Enter your email to reset password.");return}m(!0);try{await (0,o.sendPasswordResetEmail)(l.I8,t),y("Reset link sent â€” check your email."),S(!1)}catch(e){console.error("reset error",e),y(e.message||"Could not send reset email.")}finally{m(!1)}};return a.jsx("div",{style:u,children:(0,a.jsxs)("form",{onSubmit:b?handleReset:handleSignin,style:p,children:[a.jsx("h2",{style:{marginBottom:8},children:"Sign in"}),x&&a.jsx("div",{style:{color:"#ffb3b3",marginBottom:8},children:x}),a.jsx("input",{placeholder:"Email",type:"email",value:t,onChange:e=>r(e.target.value),style:g}),!b&&a.jsx("input",{placeholder:"Password",type:"password",value:s,onChange:e=>c(e.target.value),style:g}),a.jsx("button",{type:"submit",disabled:h,style:f,children:h?b?"Sending...":"Signing...":b?"Send reset link":"Sign in"}),a.jsx("div",{style:{marginTop:10,display:"flex",justifyContent:"space-between",fontSize:13},children:b?a.jsx("a",{onClick:()=>S(!1),style:{color:"#ff6666",cursor:"pointer"},children:"Back to sign in"}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("a",{onClick:()=>S(!0),style:{color:"#ff6666",cursor:"pointer"},children:"Forgot password?"}),a.jsx("a",{href:"/signup",style:{color:"#ff6666"},children:"Create account"})]})})]})})}[o,l,d]=c.then?(await c)():c;let u={minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#0f0f10"},p={width:380,padding:22,borderRadius:12,background:"#111",color:"#fff",boxShadow:"0 8px 30px rgba(0,0,0,0.6)"},g={width:"100%",padding:"10px",marginBottom:10,borderRadius:8,border:"1px solid #222",background:"#0b0b0b",color:"#fff"},f={width:"100%",padding:11,borderRadius:8,border:"none",background:"#b30000",color:"#fff",fontWeight:700};s()}catch(e){s(e)}})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},9752:e=>{e.exports=import("@vercel/analytics/react")},3745:e=>{e.exports=import("firebase/app")},401:e=>{e.exports=import("firebase/auth")},1492:e=>{e.exports=import("firebase/firestore")},3512:e=>{e.exports=import("firebase/messaging")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[481,450,792,362,163,370],()=>__webpack_exec__(5828));module.exports=r})();