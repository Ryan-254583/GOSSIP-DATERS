"use strict";(()=>{var e={};e.id=978,e.ids=[978,660],e.modules={9081:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{config:()=>h,default:()=>m,getServerSideProps:()=>b,getStaticPaths:()=>x,getStaticProps:()=>g,reportWebVitals:()=>f,routeModule:()=>w,unstable_getServerProps:()=>_,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>P,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>S});var s=r(7093),i=r(5244),l=r(1323),o=r(7481),n=r.n(o),c=r(7648),p=r(4574),u=e([c,p]);[c,p]=u.then?(await u)():u;let d=s.PagesRouteModule,m=(0,l.l)(p,"default"),g=(0,l.l)(p,"getStaticProps"),x=(0,l.l)(p,"getStaticPaths"),b=(0,l.l)(p,"getServerSideProps"),h=(0,l.l)(p,"config"),f=(0,l.l)(p,"reportWebVitals"),S=(0,l.l)(p,"unstable_getStaticProps"),v=(0,l.l)(p,"unstable_getStaticPaths"),P=(0,l.l)(p,"unstable_getStaticParams"),_=(0,l.l)(p,"unstable_getServerProps"),y=(0,l.l)(p,"unstable_getServerSideProps"),w=new d({definition:{kind:i.x.PAGES,page:"/chat/[chatId]",pathname:"/chat/[chatId]",bundlePath:"",filename:""},components:{App:c.default,Document:n()},userland:p});a()}catch(e){a(e)}})},4574:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>ChatPage});var s=r(997),i=r(6689),l=r(1163),o=r(7315),n=r(1492),c=e([o,n]);function ChatPage(){let e=(0,l.useRouter)(),{chatId:t}=e.query,[r,a]=(0,i.useState)(""),[c,p]=(0,i.useState)([]);(0,i.useEffect)(()=>{if(!t)return;let e=(0,n.query)((0,n.collection)(o.db,"chats",t,"messages"),(0,n.orderBy)("timestamp","asc")),r=(0,n.onSnapshot)(e,e=>{p(e.docs.map(e=>({id:e.id,...e.data()})))});return r},[t]);let sendMessage=async e=>{e.preventDefault(),r.trim()&&(await (0,n.addDoc)((0,n.collection)(o.db,"chats",t,"messages"),{text:r,timestamp:(0,n.serverTimestamp)()}),a(""))};return(0,s.jsxs)("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[s.jsx("header",{className:"p-4 bg-white shadow text-center font-semibold text-gray-700",children:"\uD83D\uDCAC Direct Message"}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:c.map(e=>s.jsx("div",{className:"mb-3",children:s.jsx("p",{className:"bg-blue-100 px-3 py-2 rounded-lg inline-block",children:e.text})},e.id))}),(0,s.jsxs)("form",{onSubmit:sendMessage,className:"p-3 bg-white shadow-inner flex gap-2 border-t",children:[s.jsx("input",{type:"text",placeholder:"Type your message...",value:r,onChange:e=>a(e.target.value),className:"flex-1 border rounded-lg p-2 outline-none"}),s.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg",children:"Send"})]})]})}[o,n]=c.then?(await c)():c,a()}catch(e){a(e)}})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},9752:e=>{e.exports=import("@vercel/analytics/react")},3745:e=>{e.exports=import("firebase/app")},401:e=>{e.exports=import("firebase/auth")},1492:e=>{e.exports=import("firebase/firestore")},3512:e=>{e.exports=import("firebase/messaging")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[481,450,792,362,163,370],()=>__webpack_exec__(9081));module.exports=r})();