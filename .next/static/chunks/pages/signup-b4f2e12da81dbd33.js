(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{8588:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return n(1374)}])},7315:function(e,t,n){"use strict";n.d(t,{I8:function(){return u},ZK:function(){return requestPermission},db:function(){return l},xi:function(){return listenForMessages}});var a=n(3977),i=n(9828),o=n(5876),r=n(2806);let s=(0,a.ZF)({apiKey:"AIzaSyBCVpeekEg6hJGGF-xLYPQfS2G_8bklv1Q",authDomain:"cuk-gossip.firebaseapp.com",projectId:"cuk-gossip",storageBucket:"cuk-gossip.appspot.com",messagingSenderId:"194442802549",appId:"1:194442802549:web:f2d377abb1bae3634ccf3c",measurementId:"G-ZP8JDESMH2"}),l=(0,i.ad)(s),u=(0,o.v0)(s),c=(0,r.KL)(s),requestPermission=async()=>{if(c)try{let e=await Notification.requestPermission();if("granted"===e){let e=await (0,r.LP)(c,{vapidKey:"YOUR_VAPID_KEY_HERE"});console.log("Notification permission granted, token:",e)}else console.log("Notifications denied by user")}catch(e){console.error("Error requesting notification permission:",e)}},listenForMessages=()=>{c&&(0,r.ps)(c,e=>{console.log("Message received: ",e),new Notification(e.notification.title,{body:e.notification.body,icon:"/avatars/male.png"})})}},1374:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Signup}});var a=n(5893),i=n(7294),o=n(1163),r=n(7315),s=n(5876),l=n(9828);function Signup(){let e=(0,o.useRouter)(),[t,n]=(0,i.useState)(""),[f,g]=(0,i.useState)(""),[b,h]=(0,i.useState)(""),[m,v]=(0,i.useState)(""),[y,x]=(0,i.useState)(!1),[S,w]=(0,i.useState)(""),avatarFor=(e,t)=>"female"===t?"https://api.dicebear.com/7.x/adventurer-neutral/svg?seed=".concat(encodeURIComponent(e),"&backgroundColor=f4b6c2"):"https://api.dicebear.com/7.x/adventurer/svg?seed=".concat(encodeURIComponent(e),"&backgroundColor=b6e3f4"),handleSubmit=async n=>{if(n.preventDefault(),!t||!f||!b||!m){w("Please fill all fields.");return}x(!0),w("");try{let n=await (0,s.Xb)(r.I8,b,m),a=n.user,i=avatarFor(t,f);await (0,l.pl)((0,l.JU)(r.db,"users",a.uid),{uid:a.uid,username:t,email:b,gender:f,photoURL:i,createdAt:(0,l.Bt)()}),await (0,s.ck)(a,{displayName:t,photoURL:i}),e.push("/dashboard")}catch(e){console.error("signup error:",e),w(e.message||"Signup failed")}finally{x(!1)}};return(0,a.jsx)("div",{style:u,children:(0,a.jsxs)("form",{onSubmit:handleSubmit,style:c,children:[(0,a.jsx)("h2",{style:{marginBottom:8},children:"Create account"}),S&&(0,a.jsx)("div",{style:{color:"crimson",marginBottom:8},children:S}),(0,a.jsx)("input",{placeholder:"Username",value:t,onChange:e=>n(e.target.value),style:d}),(0,a.jsxs)("select",{value:f,onChange:e=>g(e.target.value),style:d,children:[(0,a.jsx)("option",{value:"",children:"Select Gender"}),(0,a.jsx)("option",{value:"male",children:"Male"}),(0,a.jsx)("option",{value:"female",children:"Female"})]}),(0,a.jsx)("input",{placeholder:"Email",type:"email",value:b,onChange:e=>h(e.target.value),style:d}),(0,a.jsx)("input",{placeholder:"Password",type:"password",value:m,onChange:e=>v(e.target.value),style:d}),(0,a.jsx)("button",{type:"submit",disabled:y,style:p,children:y?"Creating...":"Sign up"}),(0,a.jsxs)("p",{style:{fontSize:13,marginTop:10},children:["Already have an account? ",(0,a.jsx)("a",{href:"/signin",style:{color:"#b30000"},children:"Sign in"})]})]})})}let u={minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#0f0f10"},c={width:360,padding:20,borderRadius:12,background:"#111",color:"#fff",boxShadow:"0 8px 30px rgba(0,0,0,0.6)"},d={width:"100%",padding:"10px",marginBottom:10,borderRadius:8,border:"1px solid #222",background:"#0b0b0b",color:"#fff"},p={width:"100%",padding:11,borderRadius:8,border:"none",background:"#b30000",color:"#fff",fontWeight:700}},1163:function(e,t,n){e.exports=n(8355)}},function(e){e.O(0,[703,281,876,998,774,888,179],function(){return e(e.s=8588)}),_N_E=e.O()}]);