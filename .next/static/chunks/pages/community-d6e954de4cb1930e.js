(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[44],{8486:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/community",function(){return n(7623)}])},7315:function(e,t,n){"use strict";n.d(t,{I8:function(){return u},ZK:function(){return requestPermission},db:function(){return c},xi:function(){return listenForMessages}});var s=n(3977),i=n(9828),o=n(5876),a=n(2806);let r=(0,s.ZF)({apiKey:"AIzaSyBCVpeekEg6hJGGF-xLYPQfS2G_8bklv1Q",authDomain:"cuk-gossip.firebaseapp.com",projectId:"cuk-gossip",storageBucket:"cuk-gossip.appspot.com",messagingSenderId:"194442802549",appId:"1:194442802549:web:f2d377abb1bae3634ccf3c",measurementId:"G-ZP8JDESMH2"}),c=(0,i.ad)(r),u=(0,o.v0)(r),l=(0,a.KL)(r),requestPermission=async()=>{if(l)try{let e=await Notification.requestPermission();if("granted"===e){let e=await (0,a.LP)(l,{vapidKey:"YOUR_VAPID_KEY_HERE"});console.log("Notification permission granted, token:",e)}else console.log("Notifications denied by user")}catch(e){console.error("Error requesting notification permission:",e)}},listenForMessages=()=>{l&&(0,a.ps)(l,e=>{console.log("Message received: ",e),new Notification(e.notification.title,{body:e.notification.body,icon:"/avatars/male.png"})})}},7623:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Community}});var s=n(5893),i=n(7294),o=n(7315),a=n(9828);function Community(){let[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)([]),[c,u]=(0,i.useState)("Anonymous");(0,i.useEffect)(()=>{let e=(0,a.IO)((0,a.hJ)(o.db,"community"),(0,a.Xo)("timestamp","asc")),t=(0,a.cf)(e,e=>{r(e.docs.map(e=>({id:e.id,...e.data()})))});return t},[]);let sendMessage=async n=>{n.preventDefault(),e.trim()&&(await (0,a.ET)((0,a.hJ)(o.db,"community"),{username:c,text:e,timestamp:(0,a.Bt)()}),t(""))};return(0,s.jsxs)("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[(0,s.jsx)("header",{className:"p-4 bg-white shadow text-center font-semibold text-gray-700",children:"\uD83C\uDF0D Community Feed"}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:n.map(e=>(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 font-semibold",children:e.username}),(0,s.jsx)("p",{className:"bg-blue-100 px-3 py-2 rounded-lg inline-block",children:e.text})]},e.id))}),(0,s.jsxs)("form",{onSubmit:sendMessage,className:"p-3 bg-white shadow-inner flex gap-2 border-t",children:[(0,s.jsx)("input",{type:"text",placeholder:"Type your message...",value:e,onChange:e=>t(e.target.value),className:"flex-1 border rounded-lg p-2 outline-none"}),(0,s.jsx)("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg",children:"Send"})]})]})}}},function(e){e.O(0,[703,281,876,998,774,888,179],function(){return e(e.s=8486)}),_N_E=e.O()}]);