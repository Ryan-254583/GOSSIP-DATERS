(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[728],{7328:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/message",function(){return t(7266)}])},1838:function(e,s,t){"use strict";t.d(s,{Z:function(){return Footer}});var n=t(5893),r=t(1664),a=t.n(r);function Footer(){return(0,n.jsxs)("footer",{className:"w-full bg-black text-white mt-6 p-6 flex flex-col md:flex-row justify-between items-center gap-4",children:[(0,n.jsxs)("p",{className:"text-sm",children:["\xa9 ",new Date().getFullYear()," CUK Gossip. All rights reserved."]}),(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsx)("a",{href:"https://whatsapp.com/channel/0029VbAokMVAe5Vph56xEk42",target:"_blank",rel:"noopener noreferrer",className:"hover:text-red-600 transition",children:"WhatsApp"}),(0,n.jsx)(a(),{href:"/terms",className:"hover:text-red-600 transition",children:"Terms & Conditions"}),(0,n.jsx)(a(),{href:"/advertise",className:"hover:text-red-600 transition",children:"Advertise"})]})]})}},6543:function(e,s,t){"use strict";t.d(s,{Z:function(){return Header}});var n=t(5893),r=t(1664),a=t.n(r),i=t(5675),o=t.n(i);function Header(){return(0,n.jsxs)("header",{className:"w-full bg-red-800 text-white shadow-md flex items-center justify-between px-6 py-3 sticky top-0 z-20",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)(o(),{src:"/logo.png",alt:"CUK Gossip",width:40,height:40}),(0,n.jsx)("span",{className:"font-bold text-xl",children:"CUK Gossip"})]}),(0,n.jsxs)("nav",{className:"flex items-center gap-6 font-semibold",children:[(0,n.jsx)(a(),{href:"/",className:"hover:text-gray-300 transition",children:"Home"}),(0,n.jsx)("a",{href:"https://whatsapp.com/channel/0029VbAokMVAe5Vph56xEk42",target:"_blank",rel:"noopener noreferrer",className:"hover:text-gray-300 transition",children:"Follow us on WhatsApp"}),(0,n.jsx)(a(),{href:"/advertise",className:"hover:text-gray-300 transition",children:"Advertise"}),(0,n.jsx)(a(),{href:"/terms",className:"hover:text-gray-300 transition",children:"Terms & Conditions"})]})]})}},7315:function(e,s,t){"use strict";t.d(s,{I8:function(){return l},ZK:function(){return requestPermission},db:function(){return c},xi:function(){return listenForMessages}});var n=t(3977),r=t(9828),a=t(5876),i=t(2806);let o=(0,n.ZF)({apiKey:"AIzaSyBCVpeekEg6hJGGF-xLYPQfS2G_8bklv1Q",authDomain:"cuk-gossip.firebaseapp.com",projectId:"cuk-gossip",storageBucket:"cuk-gossip.appspot.com",messagingSenderId:"194442802549",appId:"1:194442802549:web:f2d377abb1bae3634ccf3c",measurementId:"G-ZP8JDESMH2"}),c=(0,r.ad)(o),l=(0,a.v0)(o),d=(0,i.KL)(o),requestPermission=async()=>{if(d)try{let e=await Notification.requestPermission();if("granted"===e){let e=await (0,i.LP)(d,{vapidKey:"YOUR_VAPID_KEY_HERE"});console.log("Notification permission granted, token:",e)}else console.log("Notifications denied by user")}catch(e){console.error("Error requesting notification permission:",e)}},listenForMessages=()=>{d&&(0,i.ps)(d,e=>{console.log("Message received: ",e),new Notification(e.notification.title,{body:e.notification.body,icon:"/avatars/male.png"})})}},7266:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return Message}});var n=t(5893),r=t(6543),a=t(1838),i=t(7294),o=t(7315),c=t(9828);function ChatBox(e){let{currentUser:s,users:t}=e,[r,a]=(0,i.useState)([]),[l,d]=(0,i.useState)("");(0,i.useEffect)(()=>{let e=(0,c.IO)((0,c.hJ)(o.db,"messages"),(0,c.Xo)("createdAt","asc")),s=(0,c.cf)(e,e=>{let s=e.docs.map(e=>({id:e.id,...e.data()}));a(s)});return()=>s()},[]);let sendMessage=async()=>{""!==l.trim()&&(await (0,c.ET)((0,c.hJ)(o.db,"messages"),{uid:s.uid,name:s.name,text:l,createdAt:(0,c.Bt)()}),d(""))};return(0,n.jsxs)("div",{className:"flex flex-col h-96 w-full bg-black bg-opacity-70 rounded-lg p-4 space-y-2",children:[(0,n.jsx)("div",{className:"flex-1 overflow-y-auto space-y-1",children:r.map(e=>(0,n.jsxs)("div",{className:"p-2 rounded ".concat(e.uid===s.uid?"bg-red-700 text-white self-end":"bg-gray-700 text-white self-start"),children:[(0,n.jsxs)("strong",{children:[e.name,": "]}),e.text]},e.id))}),(0,n.jsxs)("div",{className:"flex space-x-2",children:[(0,n.jsx)("input",{value:l,onChange:e=>d(e.target.value),placeholder:"Type your message...",className:"flex-1 px-3 py-2 rounded text-black"}),(0,n.jsx)("button",{onClick:sendMessage,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-700 transition",children:"Send"})]})]})}var l=t(5675),d=t.n(l);function Message(){return(0,n.jsxs)("div",{className:"relative w-full h-screen",children:[(0,n.jsx)(r.Z,{}),(0,n.jsx)("div",{className:"absolute inset-0",children:(0,n.jsx)(d(),{src:"/logo.png",alt:"Background Logo",layout:"fill",objectFit:"cover",style:{filter:"brightness(50%)",opacity:.4}})}),(0,n.jsx)("div",{className:"z-10 p-6",children:(0,n.jsx)(ChatBox,{})}),(0,n.jsx)(a.Z,{})]})}}},function(e){e.O(0,[703,281,876,998,675,664,774,888,179],function(){return e(e.s=7328)}),_N_E=e.O()}]);